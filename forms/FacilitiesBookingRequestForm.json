{
    "elements": [{
        "elements": [{
            "elements": [
                {
                    "className": "org.joget.apps.form.lib.SelectBox",
                    "properties": {
                        "controlField": "",
                        "multiple": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.DefaultValidator",
                            "properties": {
                                "type": "",
                                "message": "",
                                "mandatory": "true"
                            }
                        },
                        "label": "Facility Name",
                        "readonly": "",
                        "size": "",
                        "optionsBinder": {
                            "className": "org.joget.apps.form.lib.FormOptionsBinder",
                            "properties": {
                                "addEmptyOption": "",
                                "groupingColumn": "",
                                "useAjax": "",
                                "formDefId": "adminAddFacility",
                                "labelColumn": "newFacilityName",
                                "extraCondition": "",
                                "cacheInterval": "",
                                "emptyLabel": "",
                                "idColumn": "newFacilityName"
                            }
                        },
                        "fieldInput-style-background-color": "#FFFBC1",
                        "options": [],
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "id": "facilityName",
                        "value": "",
                        "readonlyLabel": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.DatePicker",
                    "properties": {
                        "permissionHidden": "",
                        "yearRange": "c-10:c+10",
                        "dataFormat": "yyyy-MM-dd",
                        "startDateFieldId": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.DefaultValidator",
                            "properties": {
                                "type": "",
                                "message": "",
                                "mandatory": "true"
                            }
                        },
                        "format": "",
                        "label": "Date",
                        "datePickerType": "",
                        "currentDateAs": "minDate",
                        "endDateFieldId": "",
                        "readonly": "",
                        "allowManual": "true",
                        "fieldInput-style-background-color": "#FFFBC1",
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "id": "date",
                        "placeholder": "",
                        "disableWeekends": "",
                        "value": "",
                        "readonlyLabel": "",
                        "format24hr": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.SelectBox",
                    "properties": {
                        "controlField": "",
                        "multiple": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.DefaultValidator",
                            "properties": {
                                "type": "",
                                "message": "",
                                "mandatory": "true"
                            }
                        },
                        "label": "Time",
                        "readonly": "",
                        "size": "",
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "fieldInput-style-background-color": "#FFFBC1",
                        "options": [
                            {
                                "label": "10.00am - 12.00pm",
                                "value": "10.00am - 12.00pm",
                                "grouping": "time"
                            },
                            {
                                "label": "12.00pm - 2.00pm",
                                "value": "12.00pm - 2.00pm",
                                "grouping": "time"
                            },
                            {
                                "label": "2.00pm - 4.00pm",
                                "value": "2.00pm - 4.00pm",
                                "grouping": "time"
                            },
                            {
                                "label": "4.00pm - 6.00pm",
                                "value": "4.00pm - 6.00pm",
                                "grouping": "time"
                            },
                            {
                                "label": "6.00pm - 8.00pm",
                                "value": "6.00pm - 8.00pm",
                                "grouping": "time"
                            },
                            {
                                "label": "8.00pm - 10.00pm",
                                "value": "8.00pm - 10.00pm",
                                "grouping": "time"
                            }
                        ],
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "id": "time",
                        "value": "",
                        "readonlyLabel": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.TextField",
                    "properties": {
                        "requiredSanitize": "",
                        "maxlength": "",
                        "validator": {
                            "className": "org.joget.apps.form.lib.DefaultValidator",
                            "properties": {
                                "type": "",
                                "message": "",
                                "mandatory": "true"
                            }
                        },
                        "label": "No. of Participants",
                        "disableIncrementDecrementArrow": "",
                        "encryption": "",
                        "readonly": "",
                        "size": "",
                        "fieldInput-style-background-color": "#FFFBC1",
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "style": "",
                        "id": "noOfParticipants",
                        "placeholder": "",
                        "value": "",
                        "readonlyLabel": "",
                        "storeNumeric": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.TextArea",
                    "properties": {
                        "requiredSanitize": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "label": "Special Request",
                        "rows": "5",
                        "readonly": "",
                        "fieldInput-style-background-color": "#FFFBC1",
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "id": "specialRequest",
                        "placeholder": "",
                        "cols": "20",
                        "value": "",
                        "readonlyLabel": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.CheckBox",
                    "properties": {
                        "fullWidth": "",
                        "controlField": "",
                        "readonly": "",
                        "optionsBinder": {
                            "className": "",
                            "properties": {}
                        },
                        "options": [{
                            "label": "Agree",
                            "value": "Agree",
                            "grouping": "a"
                        }],
                        "validator": {
                            "className": "org.joget.apps.form.lib.DefaultValidator",
                            "properties": {
                                "type": "",
                                "message": "",
                                "mandatory": "true"
                            }
                        },
                        "fieldInput-style-border-color": "#000000",
                        "workflowVariable": "",
                        "label": "Terms Agreement",
                        "id": "termsAgreement",
                        "value": "",
                        "readonlyLabel": ""
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.HiddenField",
                    "properties": {
                        "useDefaultWhenEmpty": "",
                        "validator": {
                            "className": "",
                            "properties": {}
                        },
                        "workflowVariable": "",
                        "id": "status",
                        "value": "Pending"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.CustomHTML",
                    "properties": {
                        "requiredSanitize": "",
                        "autoPopulate": "",
                        "label": "",
                        "id": "field8",
                        "value": "<style type=\"text/css\">\r\n    body {\r\n        background-image: url(\"https://properly.com.my/wp-content/uploads/2022/07/Savio-Facade-scaled-1.jpg\");\r\n        background-size: 1500px 800px; /* This sets the width and height */\r\n        background-repeat: no-repeat; /* Prevents the image from repeating if it's smaller than the body */\r\n    }\r\n<\/style>"
                    }
                },
                {
                    "className": "org.joget.apps.form.lib.CustomHTML",
                    "properties": {
                        "requiredSanitize": "",
                        "autoPopulate": "",
                        "label": "",
                        "id": "field9",
                        "value": "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Booking Pop-up<\/title>\r\n    <style>\r\n        /* CSS for Styling */\r\n        .popup-overlay {\r\n            display: none; /* Hidden by default */\r\n            position: fixed;\r\n            top: 0;\r\n            left: 0;\r\n            width: 100%;\r\n            height: 100%;\r\n            background-color: rgba(0, 0, 0, 0.7); /* Dark overlay */\r\n            z-index: 1000;\r\n            justify-content: center;\r\n            align-items: center;\r\n        }\r\n\r\n        .popup-content {\r\n            background-color: white;\r\n            padding: 30px;\r\n            border-radius: 8px;\r\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n            max-width: 600px;\r\n            width: 90%;\r\n            text-align: left;\r\n            position: relative;\r\n        }\r\n\r\n        .popup-content h2 {\r\n            margin-top: 0;\r\n            color: #333;\r\n        }\r\n\r\n        .popup-content ul {\r\n            list-style-type: disc;\r\n            margin-left: 20px;\r\n            margin-bottom: 20px;\r\n        }\r\n\r\n        .popup-content ul li {\r\n            margin-bottom: 8px;\r\n            line-height: 1.4;\r\n        }\r\n\r\n        .popup-actions {\r\n            text-align: center;\r\n            margin-top: 20px;\r\n        }\r\n\r\n        .popup-actions button {\r\n            padding: 10px 20px;\r\n            margin: 0 10px;\r\n            border: none;\r\n            border-radius: 5px;\r\n            cursor: pointer;\r\n            font-size: 16px;\r\n        }\r\n\r\n        #agreeToBook {\r\n            background-color: #4CAF50;\r\n            color: white;\r\n        }\r\n\r\n        #agreeToBook:hover {\r\n            background-color: #45a049;\r\n        }\r\n\r\n        #cancelBooking {\r\n            background-color: #f44336;\r\n            color: white;\r\n        }\r\n\r\n        #cancelBooking:hover {\r\n            background-color: #da190b;\r\n        }\r\n\r\n        /* Style for the booking form (initially hidden) */\r\n        #yourBookingFormId {\r\n            display: none; /* Hidden by default, will be shown after agreeing to terms */\r\n            margin-top: 50px;\r\n            padding: 20px;\r\n            border: 1px solid #ccc;\r\n            border-radius: 8px;\r\n            background-color: #f9f9f9;\r\n        }\r\n    <\/style>\r\n<\/head>\r\n<body>\r\n\r\n    <div id=\"yourBookingFormId\">\r\n        <h2>Your Booking Request Form<\/h2>\r\n        <p>This is where your booking form content will go once the user agrees to the terms in the pop-up.<\/p>\r\n        <\/div>\r\n\r\n    <div id=\"bookingPopup\" class=\"popup-overlay\">\r\n        <div class=\"popup-content\">\r\n            <h2>Important Information Before You Book<\/h2>\r\n            <p>Please read the following rules and guidelines carefully before proceeding with your booking request:<\/p>\r\n            <ul>\r\n                <li>Bookings are subject to facility availability.<\/li>\r\n                <li>A minimum advance booking period of 3 days is required for all facilities.<\/li>\r\n                <li>Users are responsible for maintaining the cleanliness of the facility and disposing of all trash properly. A cleaning fee may be imposed for non-compliance.<\/li>\r\n                <li>The resident making the reservation is liable for any damages to the facility or equipment.<\/li>\r\n                <li>Be mindful of noise levels; loud music or excessive noise is prohibited.<\/li>\r\n                <li>Smoking is strictly prohibited in all indoor facilities and designated outdoor areas.<\/li>\r\n                <li>Pets are not allowed in any of the facilities.<\/li>\r\n                <li>The resident is responsible for the conduct and behavior of their guests.<\/li>\r\n                <li>Cancellation policies apply and may result in forfeiture of booking fees if cancelled within 7 days of the booking date.<\/li>\r\n                <li>All payments for bookings and security deposits are required in advance.<\/li>\r\n            <\/ul>\r\n            <h3>Specific Facility Notes:<\/h3>\r\n            <ul>\r\n                <li><strong>BBQ Pit:<\/strong> Ensure coals are extinguished and ashes are disposed of in the designated metal bin. All washing must be done at the BBQ pit washing point.<\/li>\r\n                <li><strong>Multipurpose Hall/Meeting Room:<\/strong> Observe maximum capacity limits. No sticking of banners or decorations on walls. Food preparation may be restricted to designated areas.<\/li>\r\n            <\/ul>\r\n            <div class=\"popup-actions\">\r\n                <button id=\"agreeToBook\">I Understand & Agree to Book<\/button>\r\n                <button id=\"cancelBooking\">Cancel<\/button>\r\n            <\/div>\r\n        <\/div>\r\n    <\/div>\r\n\r\n    <script>\r\n        // JavaScript for Functionality\r\n        document.addEventListener('DOMContentLoaded', function() {\r\n            const bookingPopup = document.getElementById('bookingPopup');\r\n            const agreeButton = document.getElementById('agreeToBook');\r\n            const cancelButton = document.getElementById('cancelBooking');\r\n            const bookingForm = document.getElementById('yourBookingFormId'); // The actual ID of your booking form\r\n\r\n            const POPUP_SEEN_KEY = 'bookingPopupSeen'; // Key for sessionStorage\r\n\r\n            // Function to show the pop-up\r\n            function showPopup() {\r\n                bookingPopup.style.display = 'flex'; // Use 'flex' to center content easily\r\n            }\r\n\r\n            // Function to hide the pop-up and set a flag in sessionStorage\r\n            function hidePopup() {\r\n                bookingPopup.style.display = 'none';\r\n                sessionStorage.setItem(POPUP_SEEN_KEY, 'true'); // Set flag so it doesn't reappear\r\n            }\r\n\r\n            // Check if the pop-up has been seen in the current session\r\n            if (sessionStorage.getItem(POPUP_SEEN_KEY) !== 'true') {\r\n                showPopup(); // Show the pop-up automatically if not seen\r\n            } else {\r\n                // If the pop-up has been seen, ensure the booking form is visible immediately\r\n                if (bookingForm) {\r\n                    bookingForm.style.display = 'block';\r\n                }\r\n            }\r\n\r\n            // Event listener for the \"I Understand & Agree to Book\" button\r\n            agreeButton.addEventListener('click', function() {\r\n                hidePopup();\r\n                // Show your actual booking form\r\n                if (bookingForm) {\r\n                    bookingForm.style.display = 'block'; // Or however you display your form\r\n                }\r\n            });\r\n\r\n            // Event listener for the \"Cancel\" button\r\n            cancelButton.addEventListener('click', function() {\r\n                hidePopup();\r\n                // If the user cancels, the form will not be shown automatically.\r\n                // You might want to redirect them or display a message.\r\n            });\r\n\r\n            // Optional: Close pop-up if user clicks outside the content\r\n            bookingPopup.addEventListener('click', function(event) {\r\n                if (event.target === bookingPopup) {\r\n                    // Only hide if the click is directly on the overlay, not on the content\r\n                    hidePopup();\r\n                }\r\n            });\r\n        });\r\n    <\/script>\r\n\r\n<\/body>\r\n<\/html>"
                    }
                }
            ],
            "className": "org.joget.apps.form.model.Column",
            "properties": {"width": "100%"}
        }],
        "className": "org.joget.apps.form.model.Section",
        "properties": {
            "style-background-color": "#ADD2F7",
            "header-style-background-color": "#4C65F7",
            "visibilityControl": "",
            "permissionReadonly": "",
            "style-color": "#000000",
            "header-style-border-color": "#000000",
            "permission": {
                "className": "",
                "properties": {}
            },
            "label": "Facilities Booking",
            "style-border-color": "#000000",
            "reverse": "",
            "storeBinder": {
                "className": "",
                "properties": {}
            },
            "visibilityValue": "",
            "style-background-size": "contain",
            "regex": "",
            "readonly": "",
            "loadBinder": {
                "className": "",
                "properties": {}
            },
            "comment": "",
            "id": "section1",
            "join": "",
            "readonlyLabel": ""
        }
    }],
    "className": "org.joget.apps.form.model.Form",
    "properties": {
        "noPermissionMessage": "",
        "loadBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "name": "Residents Facilities Booking Request Form",
        "description": "",
        "postProcessorRunOn": "create",
        "permission": {
            "className": "",
            "properties": {}
        },
        "id": "FacilitiesBookingRequestForm",
        "postProcessor": {
            "className": "",
            "properties": {}
        },
        "storeBinder": {
            "className": "org.joget.apps.form.lib.WorkflowFormBinder",
            "properties": {}
        },
        "tableName": "facilities_book"
    }
}